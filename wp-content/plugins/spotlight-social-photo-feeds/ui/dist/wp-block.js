!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("React"),require("ReactDOM")):"function"==typeof define&&define.amd?define(["React","ReactDOM"],e):"object"==typeof exports?exports.spotlight=e(require("React"),require("ReactDOM")):t.spotlight=e(t.React,t.ReactDOM)}(window,(function(t,e){return(window.webpackJsonpspotlight=window.webpackJsonpspotlight||[]).push([[12],{0:function(e,o){e.exports=t},10:function(t,e,o){"use strict";o.d(e,"a",(function(){return r}));var n=o(0),i=o.n(n),a=o(11);const r=t=>{var{icon:e,className:o}=t,n=function(t,e){var o={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(o[n]=t[n]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(o[n[i]]=t[n[i]])}return o}(t,["icon","className"]);return i.a.createElement("span",Object.assign({className:Object(a.b)("dashicons","dashicons-"+e,o)},n))}},109:function(t,e,o){"use strict";o.d(e,"a",(function(){return c}));var n=o(0),i=o.n(n),a=o(6),r=o(27),s=o(7);const c=Object(a.b)(({feed:t})=>{const e=r.a.getById(t.options.layout),o=s.a.ComputedOptions.compute(t.options,t.mode);return i.a.createElement("div",{className:"feed"},i.a.createElement(e.component,{feed:t,options:o}))})},11:function(t,e,o){"use strict";function n(...t){return t.filter(t=>!!t).join(" ")}function i(t){return n(...Object.getOwnPropertyNames(t).map(e=>t[e]?e:null))}function a(t,e={}){let o=Object.getOwnPropertyNames(e).map(o=>e[o]?t+o:null);return t+" "+o.filter(t=>!!t).join(" ")}o.d(e,"b",(function(){return n})),o.d(e,"c",(function(){return i})),o.d(e,"a",(function(){return a})),o.d(e,"e",(function(){return r})),o.d(e,"d",(function(){return s}));const r={onMouseDown:t=>t.preventDefault()};function s(...t){return e=>{t.forEach(t=>t&&function(t,e){"function"==typeof t?t(e):t.current=e}(t,e))}}},110:function(t,e,o){"use strict";o.d(e,"a",(function(){return y}));var n=o(0),i=o.n(n),a=o(60),r=o.n(a),s=o(15),c=o(51),l=o.n(c),u=o(38),d=o.n(u),p=o(6),h=o(4),f=o(114),m=Object(p.b)((function({field:t}){const e="settings-field-"+Object(h.t)(),o=!t.label||t.fullWidth;return i.a.createElement("div",{className:d.a.root},t.label&&i.a.createElement("div",{className:d.a.label},i.a.createElement("label",{htmlFor:e},t.label)),i.a.createElement("div",{className:d.a.container},i.a.createElement("div",{className:o?d.a.controlFullWidth:d.a.controlPartialWidth},i.a.createElement(t.component,{id:e})),t.tooltip&&i.a.createElement("div",{className:d.a.tooltip},i.a.createElement(f.a,null,t.tooltip))))}));function g({group:t}){return i.a.createElement("div",{className:l.a.root},t.title&&t.title.length>0&&i.a.createElement("h1",{className:l.a.title},t.title),t.component&&i.a.createElement("div",{className:l.a.content},i.a.createElement(t.component)),t.fields&&i.a.createElement("div",{className:l.a.fieldList},t.fields.map(t=>i.a.createElement(m,{field:t,key:t.id}))))}var b=o(20);function y({page:t}){return Object(b.d)("keydown",t=>{t.key&&"s"===t.key.toLowerCase()&&t.ctrlKey&&(s.b.save(),t.preventDefault(),t.stopPropagation())}),i.a.createElement("article",{className:r.a.root},t.component&&i.a.createElement("div",{className:r.a.content},i.a.createElement(t.component)),t.groups&&i.a.createElement("div",{className:r.a.groupList},t.groups.map(t=>i.a.createElement(g,{key:t.id,group:t}))))}},118:function(t,e,o){t.exports={root:"SliWpBlockEdit__root",logo:"SliWpBlockEdit__logo",label:"SliWpBlockEdit__label","missing-feed-msg":"SliWpBlockEdit__missing-feed-msg SliWpBlockEdit__label",missingFeedMsg:"SliWpBlockEdit__missing-feed-msg SliWpBlockEdit__label",selector:"SliWpBlockEdit__selector","selector-label":"SliWpBlockEdit__selector-label",selectorLabel:"SliWpBlockEdit__selector-label","selector-list-container":"SliWpBlockEdit__selector-list-container",selectorListContainer:"SliWpBlockEdit__selector-list-container","feed-container":"SliWpBlockEdit__feed-container",feedContainer:"SliWpBlockEdit__feed-container"}},12:function(t,e,o){"use strict";var n,i=o(8);let a;e.a=a={isPro:!1,config:{restApi:SliCommonL10n.restApi,imagesUrl:SliCommonL10n.imagesUrl,autoPromotions:SliCommonL10n.autoPromotions,globalPromotions:null!==(n=SliCommonL10n.globalPromotions)&&void 0!==n?n:{}},image:t=>`${a.config.imagesUrl}/${t}`},i.a.registerType({id:"link",label:"Link",isValid:()=>!1}),i.a.registerType({id:"-more-",label:"- More promotion types -",isValid:()=>!1}),i.a.Automation.registerType({id:"hashtag",label:"Hashtag",matches:()=>!1})},13:function(t,e,o){"use strict";o.d(e,"a",(function(){return n}));const n=t=>"string"==typeof t?t:"r"in t?"rgba("+t.r+","+t.g+","+t.b+","+t.a+")":"h"in t?"hsla("+t.h+","+t.s+","+t.l+","+t.a+")":"#fff"},135:function(t,e,o){"use strict";function n(t,e){return"url"===e.linkType?e.url:e.postUrl}var i;o.d(e,"a",(function(){return i})),e.b={id:"link",label:"Link",getIcon:()=>"admin-links",getPopupLink:function(t,e){return"string"==typeof e.linkText&&e.linkText.length>0?[e.linkText,e.newTab]:[i.getDefaultLinkText(e),e.newTab]},isValid:function(t){return"string"==typeof t.linkType&&t.linkType.length>0&&("url"===t.linkType&&"string"==typeof t.url&&t.url.length>0||!!t.postId&&"string"==typeof t.postUrl&&t.postUrl.length>0)},getMediaUrl:n,onMediaClick:function(t,e){var o;const i=n(0,e),a=null===(o=e.linkDirectly)||void 0===o||o;return!(!i||!a)&&(window.open(i,e.newTab?"_blank":"_self"),!0)}},function(t){t.getDefaultLinkText=function(t){switch(t.linkType){case"product":return"Buy it now";case"post":return"Read the article";case"page":return"Learn more";default:return"Visit link"}}}(i||(i={}))},144:function(t,e,o){"use strict";o.d(e,"a",(function(){return r}));var n=o(0),i=o.n(n),a=o(29);function r({breakpoints:t,children:e}){const[o,r]=i.a.useState(null),s=i.a.useCallback(()=>{const e=Object(a.b)();r(()=>t.reduce((t,o)=>e.width<=o&&o<t?o:t,1/0))},[t]);return Object(n.useEffect)(()=>(s(),window.addEventListener("resize",s),()=>window.removeEventListener("resize",s)),[]),null!==o&&e(o)}},145:function(t,e,o){"use strict";var n=o(0),i=o.n(n),a=o(99),r=o(17),s=o.n(r),c=o(41),l=o(3),u=o(5),d=o(10),p=o(111),h=o(26),f=o(22),m=o(30),g=o(89),b=o(59),y=o(14),v=o(65);function _({accounts:t,showDelete:e,onDeleteError:o}){const n=(t=null!=t?t:[]).filter(t=>t.type===l.a.Type.BUSINESS).length,[a,r]=i.a.useState(!1),[_,E]=i.a.useState(null),[O,w]=i.a.useState(!1),[S,C]=i.a.useState(),[P,k]=i.a.useState(!1),A=t=>()=>{E(t),r(!0)},B=t=>()=>{m.a.openAuthWindow(t.type,0,()=>{y.a.restApi.deleteAccountMedia(t.id)})},T=t=>()=>{C(t),w(!0)},M=()=>{k(!1),C(null),w(!1)},L={cols:{username:s.a.usernameCol,type:s.a.typeCol,usages:s.a.usagesCol,actions:s.a.actionsCol},cells:{username:s.a.usernameCell,type:s.a.typeCell,usages:s.a.usagesCell,actions:s.a.actionsCell}};return i.a.createElement("div",{className:"accounts-list"},i.a.createElement(p.a,{styleMap:L,rows:t,cols:[{id:"username",label:"Username",render:t=>i.a.createElement("div",null,i.a.createElement(b.a,{account:t,className:s.a.profilePic}),i.a.createElement("a",{className:s.a.username,onClick:A(t)},t.username))},{id:"type",label:"Type",render:t=>i.a.createElement("span",{className:s.a.accountType},t.type)},{id:"usages",label:"Feeds",render:t=>i.a.createElement("span",{className:s.a.usages},t.usages.map((t,e)=>!!h.a.getById(t)&&i.a.createElement(c.a,{key:e,to:f.a.at({screen:"edit",id:t.toString()})},h.a.getById(t).name)))},{id:"actions",label:"Actions",render:t=>e&&i.a.createElement("div",{className:s.a.actionsList},i.a.createElement(u.a,{className:s.a.action,type:u.c.SECONDARY,tooltip:"Account info",onClick:A(t)},i.a.createElement(d.a,{icon:"info"})),i.a.createElement(u.a,{className:s.a.action,type:u.c.SECONDARY,tooltip:"Reconnect account",onClick:B(t)},i.a.createElement(d.a,{icon:"image-rotate"})),i.a.createElement(u.a,{className:s.a.actions,type:u.c.DANGER,tooltip:"Remove account",onClick:T(t)},i.a.createElement(d.a,{icon:"trash"})))}]}),i.a.createElement(g.a,{isOpen:a,onClose:()=>r(!1),account:_}),i.a.createElement(v.a,{isOpen:O,title:"Are you sure?",buttons:[P?"Please wait ...":"Yes I'm sure","Cancel"],okDisabled:P,cancelDisabled:P,onAccept:()=>{k(!0),m.a.deleteAccount(S.id).then(()=>M()).catch(()=>{o&&o("An error occurred while trying to remove the account."),M()})},onCancel:M},i.a.createElement("p",null,"Are you sure you want to delete"," ",i.a.createElement("span",{style:{fontWeight:"bold"}},S?S.username:""),"?"," ","This will also delete all saved media associated with this account."),S&&S.type===l.a.Type.BUSINESS&&1===n&&i.a.createElement("p",null,i.a.createElement("b",null,"Note:")," ",i.a.createElement("span",null,"Because this is your only connected Business account, deleting it will"," ","also cause any feeds that show public hashtag posts to no longer work."))))}var E=o(23),O=o(6),w=o(113),S=o(78),C=o.n(S);e.a=Object(O.b)((function(){const[,t]=i.a.useState(0),[e,o]=i.a.useState(""),n=i.a.useCallback(()=>t(t=>t++),[]);return l.b.hasAccounts()?i.a.createElement("div",{className:C.a.root},e.length>0&&i.a.createElement(E.a,{type:E.b.ERROR,showIcon:!0,isDismissible:!0,onDismiss:()=>o("")},e),i.a.createElement("div",{className:C.a.connectBtn},i.a.createElement(a.a,{onConnect:n})),i.a.createElement(_,{accounts:l.b.list,showDelete:!0,onDeleteError:o})):i.a.createElement(w.a,null)}))},16:function(t,e,o){"use strict";var n;o.d(e,"a",(function(){return n})),function(t){let e,o;!function(t){t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.ALBUM="CAROUSEL_ALBUM"}(e=t.Type||(t.Type={})),function(t){let e;!function(t){t.PERSONAL_ACCOUNT="PERSONAL_ACCOUNT",t.BUSINESS_ACCOUNT="BUSINESS_ACCOUNT",t.TAGGED_ACCOUNT="TAGGED_ACCOUNT",t.RECENT_HASHTAG="RECENT_HASHTAG",t.POPULAR_HASHTAG="POPULAR_HASHTAG",t.USER_STORY="USER_STORY"}(e=t.Type||(t.Type={}))}(o=t.Source||(t.Source={})),t.getAsRows=(t,e)=>{t=t.slice(),e=e>0?e:1;let o=[];for(;t.length;)o.push(t.splice(0,e));if(o.length>0){const t=o.length-1;for(;o[t].length<e;)o[t].push({})}return o},t.isFromHashtag=t=>t.source.type===o.Type.POPULAR_HASHTAG||t.source.type===o.Type.RECENT_HASHTAG}(n||(n={}))},17:function(t,e,o){t.exports={"username-col":"AccountsList__username-col",usernameCol:"AccountsList__username-col","actions-col":"AccountsList__actions-col",actionsCol:"AccountsList__actions-col","username-cell":"AccountsList__username-cell",usernameCell:"AccountsList__username-cell",username:"AccountsList__username","profile-pic":"AccountsList__profile-pic",profilePic:"AccountsList__profile-pic","account-type":"AccountsList__account-type",accountType:"AccountsList__account-type",usages:"AccountsList__usages","actions-list":"AccountsList__actions-list layout__flex-row",actionsList:"AccountsList__actions-list layout__flex-row",action:"AccountsList__action","usages-cell":"AccountsList__usages-cell",usagesCell:"AccountsList__usages-cell","usages-col":"AccountsList__usages-col",usagesCol:"AccountsList__usages-col","type-cell":"AccountsList__type-cell",typeCell:"AccountsList__type-cell","type-col":"AccountsList__type-col",typeCol:"AccountsList__type-col"}},18:function(t,e,o){"use strict";var n=o(34),i=o.n(n),a=o(12),r=o(35);const s=a.a.config.restApi.baseUrl,c={};a.a.config.restApi.authToken&&(c["X-Sli-Auth-Token"]=a.a.config.restApi.authToken);const l=i.a.create({baseURL:s,headers:c}),u={config:a.a.config.restApi,driver:l,getAccounts:()=>l.get("/accounts"),getFeeds:()=>l.get("/feeds"),getFeedMedia:(t,e=0,o=0,n)=>{const a=n?new i.a.CancelToken(n):void 0;return l.post("/media/fetch",{options:t,num:o,from:e},{cancelToken:a})},getErrorReason:t=>{let e;return e="object"==typeof t.response?t.response.data:"string"==typeof t.message?t.message:t.toString(),Object(r.b)(e)}};e.a=u},19:function(t,e,o){"use strict";o.d(e,"a",(function(){return n}));var n,i=o(4);!function(t){function e(t,e){return t.hasOwnProperty(e.toString())}function o(t,e){return t[e.toString()]}function n(t,e,o){return t[e.toString()]=o,t}t.has=e,t.get=o,t.set=n,t.ensure=function(o,i,a){return e(o,i)||n(o,i,a),t.get(o,i)},t.withEntry=function(e,o,n){return t.set(Object(i.h)(e),o,n)},t.remove=function(t,e){return delete t[e.toString()],t},t.without=function(e,o){return t.remove(Object(i.h)(e),o)},t.at=function(t,e){return o(t,Object.keys(t)[e])},t.keys=function(t){return Object.keys(t)},t.values=function(t){return Object.values(t)},t.entries=function(t){return Object.getOwnPropertyNames(t).map(e=>[e,t[e]])},t.map=function(e,o){const n={};return t.forEach(e,(t,e)=>n[t]=o(e,t)),n},t.size=function(e){return t.keys(e).length},t.isEmpty=function(e){return 0===t.size(e)},t.equals=function(t,e){return Object(i.o)(t,e)},t.forEach=function(e,o){t.keys(e).forEach(t=>o(t,e[t]))},t.fromArray=function(e){const o={};return e.forEach(([e,n])=>t.set(o,e,n)),o},t.fromMap=function(e){const o={};return e.forEach((e,n)=>t.set(o,n,e)),o}}(n||(n={}))},2:function(t,e,o){"use strict";o.d(e,"a",(function(){return n}));var n,i=o(1),a=function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};!function(t){class e{constructor(t,e,o){this.prop=t,this.name=e,this.icon=o}}e.DESKTOP=new e("desktop","Desktop","desktop"),e.TABLET=new e("tablet","Tablet","tablet"),e.PHONE=new e("phone","Phone","smartphone"),t.Mode=e,t.MODES=[e.DESKTOP,e.TABLET,e.PHONE];class o{constructor(t,e,o){this.desktop=t,this.tablet=e,this.phone=o}get(t,e){return n(this,t,e)}set(t,e){r(this,e,t)}with(t,e){const n=s(this,e,t);return new o(n.desktop,n.tablet,n.phone)}}function n(t,e,o=!1){if(!t)return;const n=t[e.prop];return o&&null==n?t.desktop:n}function r(t,e,o){return t[o.prop]=e,t}function s(t,e,n){return r(new o(t.desktop,t.tablet,t.phone),e,n)}a([i.n],o.prototype,"desktop",void 0),a([i.n],o.prototype,"tablet",void 0),a([i.n],o.prototype,"phone",void 0),t.Value=o,t.getName=function(t){return t.name},t.getIcon=function(t){return t.icon},t.cycle=function(o){const n=t.MODES.findIndex(t=>t===o);return void 0===n?e.DESKTOP:t.MODES[(n+1)%t.MODES.length]},t.get=n,t.set=r,t.withValue=s,t.normalize=function(t,e){return null==t?e.hasOwnProperty("all")?new o(e.all,e.all,e.all):new o(e.desktop,e.tablet,e.phone):"object"==typeof t&&t.hasOwnProperty("desktop")?new o(t.desktop,t.tablet,t.phone):new o(t,t,t)},t.getModeForWindowSize=function(t){return t.width<=768?e.PHONE:t.width<=935?e.TABLET:e.DESKTOP},t.isValid=function(t){return"object"==typeof t&&t.hasOwnProperty("desktop")}}(n||(n={}))},20:function(t,e,o){"use strict";o.d(e,"i",(function(){return s})),o.d(e,"e",(function(){return c})),o.d(e,"b",(function(){return l})),o.d(e,"c",(function(){return u})),o.d(e,"a",(function(){return d})),o.d(e,"m",(function(){return p})),o.d(e,"g",(function(){return h})),o.d(e,"k",(function(){return f})),o.d(e,"j",(function(){return m})),o.d(e,"d",(function(){return b})),o.d(e,"l",(function(){return y})),o.d(e,"f",(function(){return v})),o.d(e,"h",(function(){return _}));var n=o(0),i=o.n(n),a=o(40),r=o(29);function s(t,e){!function(t,e,o){const n=i.a.useRef(!0);t(()=>{n.current=!0;const t=e(()=>new Promise(t=>{n.current&&t()}));return()=>{n.current=!1,t&&t()}},o)}(n.useEffect,t,e)}function c(t){const[e,o]=i.a.useState(t),n=i.a.useRef(e);return[e,()=>n.current,t=>o(n.current=t)]}function l(t,e,o=[]){function i(n){!t.current||t.current.contains(n.target)||o.some(t=>t&&t.current&&t.current.contains(n.target))||e(n)}Object(n.useEffect)(()=>(document.addEventListener("mousedown",i),document.addEventListener("touchend",i),()=>{document.removeEventListener("mousedown",i),document.removeEventListener("touchend",i)}))}function u(t,e){Object(n.useEffect)(()=>{const o=()=>{0===t.filter(t=>!t.current||document.activeElement===t.current||t.current.contains(document.activeElement)).length&&e()};return document.addEventListener("keyup",o),()=>document.removeEventListener("keyup",o)},t)}function d(t,e,o=100){const[a,r]=i.a.useState(t);return Object(n.useEffect)(()=>{let n=null;return t===e?n=setTimeout(()=>r(e),o):r(!e),()=>{null!==n&&clearTimeout(n)}},[t]),[a,r]}function p(t){const[e,o]=i.a.useState(Object(r.b)()),a=()=>{const e=Object(r.b)();o(e),t&&t(e)};return Object(n.useEffect)(()=>(a(),window.addEventListener("resize",a),()=>window.removeEventListener("resize",a)),[]),e}function h(){return new URLSearchParams(Object(a.e)().search)}function f(t,e){const o=o=>{if(e)return(o||window.event).returnValue=t,t};Object(n.useEffect)(()=>(window.addEventListener("beforeunload",o),()=>window.removeEventListener("beforeunload",o)),[e])}function m(t,e){const o=i.a.useRef(!1);return Object(n.useEffect)(()=>{o.current&&void 0!==t.current&&(t.current.scrollIntoView(Object.assign({behavior:"smooth",block:"start"},null!=e?e:{})),o.current=!1)},[o.current]),()=>o.current=!0}function g(t,e,o,i=[],a=[]){Object(n.useEffect)(()=>(i.reduce((t,e)=>t&&e,!0)&&t.addEventListener(e,o),()=>t.removeEventListener(e,o)),a)}function b(t,e,o=[],n=[]){g(document,t,e,o,n)}function y(t,e,o=[],n=[]){g(window,t,e,o,n)}function v(t){return e=>{" "!==e.key&&"Enter"!==e.key||(t(),e.preventDefault(),e.stopPropagation())}}function _(t){const[e,o]=i.a.useState(t);return[function(t){const e=i.a.useRef(t);return e.current=t,e}(e),o]}o(35)},22:function(t,e,o){"use strict";o.d(e,"a",(function(){return s}));var n=o(1),i=o(49),a=function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};class r{constructor(){const t=window.location;this._pathName=t.pathname,this._baseUrl=t.protocol+"//"+t.host,this.parsed=Object(i.parse)(t.search),this.unListen=null,this.listeners=[],Object(n.o)(()=>this._path,t=>this.path=t)}createPath(t){return this._pathName+"?"+Object(i.stringify)(t)}get _path(){return this.createPath(this.parsed)}get(t,e=null){var o;return null!==(o=this.parsed[t])&&void 0!==o?o:e}at(t){return this.createPath(Object.assign({page:this.parsed.page},this.processQuery(t)))}fullUrl(t){return this._baseUrl+this.createPath(Object.assign({page:this.parsed.page},this.processQuery(t)))}with(t){return this.createPath(Object.assign(Object.assign({},this.parsed),this.processQuery(t)))}without(t){const e=Object.assign({},this.parsed);return delete e[t],this.createPath(e)}goto(t,e=!1){this.history.push(e?this.with(t):this.at(t),{})}useHistory(t){return this.unListen&&this.unListen(),this.history=t,this.unListen=this.history.listen(t=>{this.parsed=Object(i.parse)(t.search),this.listeners.forEach(t=>t())}),this}listen(t){this.listeners.push(t)}unlisten(t){this.listeners=this.listeners.filter(e=>e===t)}processQuery(t){const e=Object.assign({},t);return Object.getOwnPropertyNames(t).forEach(o=>{t[o]&&0===t[o].length?delete e[o]:e[o]=t[o]}),e}}a([n.n],r.prototype,"path",void 0),a([n.n],r.prototype,"parsed",void 0),a([n.h],r.prototype,"_path",null);const s=new r},253:function(t,e){!function(){t.exports=this.wp.components}()},27:function(t,e,o){"use strict";o.d(e,"a",(function(){return n}));class n{static getById(t){const e=n.list.find(e=>e.id===t);return!e&&n.list.length>0?n.list[0]:e}static getName(t){const e=n.getById(t);return e?e.name:"(Missing layout)"}static addLayout(t){n.list.push(t)}}n.list=[]},29:function(t,e,o){"use strict";function n(t,e,o={}){return window.open(t,e,function(t={}){return Object.getOwnPropertyNames(t).map(e=>`${e}=${t[e]}`).join(",")}(o))}function i(t,e){return{top:window.top.outerHeight/2+window.top.screenY-e/2,left:window.top.outerWidth/2+window.top.screenX-t/2,width:t,height:e}}function a(){const{innerWidth:t,innerHeight:e}=window;return{width:t,height:e}}o.d(e,"c",(function(){return n})),o.d(e,"a",(function(){return i})),o.d(e,"b",(function(){return a}))},3:function(t,e,o){"use strict";o.d(e,"a",(function(){return n}));var n,i=o(18),a=o(1);!function(t){let e;!function(t){t.PERSONAL="PERSONAL",t.BUSINESS="BUSINESS"}(e=t.Type||(t.Type={}))}(n||(n={}));const r=Object(a.n)([]),s="https://secure.gravatar.com/avatar/4a94d759753ade2961582f7345c1d7b2?s=64&d=mm&r=g",c=t=>r.find(e=>e.id===t),l=t=>"https://instagram.com/"+t;function u(t){return t.slice().sort((t,e)=>t.type===e.type?0:t.type===n.Type.PERSONAL?-1:1),r.splice(0,r.length),t.forEach(t=>r.push(Object(a.n)(t))),r}function d(t){if("object"==typeof t&&Array.isArray(t.data))return u(t.data);throw"Spotlight encountered a problem trying to load your accounts. Kindly contact customer support for assistance."}e.b={list:r,DEFAULT_PROFILE_PIC:s,getById:c,getByUsername:t=>r.find(e=>e.username===t),hasAccounts:()=>r.length>0,filterExisting:t=>t.filter(t=>void 0!==c(t)),idsToAccounts:t=>t.map(t=>c(t)).filter(t=>void 0!==t),getBusinessAccounts:()=>r.filter(t=>t.type===n.Type.BUSINESS),getProfilePicUrl:t=>t.customProfilePicUrl?t.customProfilePicUrl:t.profilePicUrl?t.profilePicUrl:s,getBioText:t=>t.customBio.length?t.customBio:t.bio,getProfileUrl:t=>l(t.username),getUsernameUrl:l,loadAccounts:function(){return i.a.getAccounts().then(d).catch(t=>{throw i.a.getErrorReason(t)})},loadFromResponse:d,addAccounts:u}},32:function(t,e,o){"use strict";o.d(e,"a",(function(){return l})),o.d(e,"b",(function(){return u})),o.d(e,"c",(function(){return p}));var n=o(0),i=o.n(n),a=o(33),r=o.n(a),s=o(6);class c{constructor(t=new Map,e=[]){this.factories=t,this.extensions=new Map,this.cache=new Map,e.forEach(t=>this.addModule(t))}addModule(t){t.factories&&(this.factories=new Map([...this.factories,...t.factories])),t.extensions&&t.extensions.forEach((t,e)=>{this.extensions.has(e)?this.extensions.get(e).push(t):this.extensions.set(e,[t])})}get(t){let e=this.factories.get(t);if(void 0===e)throw new Error('Service "'+t+'" does not exist');let o=this.cache.get(t);if(void 0===o){o=e(this);let n=this.extensions.get(t);n&&n.forEach(t=>o=t(this,o)),this.cache.set(t,o)}return o}has(t){return this.factories.has(t)}}class l{constructor(t,e,o){this.key=t,this.mount=e,this.modules=o,this.container=null}addModules(t){this.modules=this.modules.concat(t)}run(){if(null!==this.container)return;let t=!1;const e=()=>{t||"interactive"!==document.readyState&&"complete"!==document.readyState||(this.actualRun(),t=!0)};e(),t||document.addEventListener("readystatechange",e)}actualRun(){!function(t){const e=`app/${t.key}/run`;document.dispatchEvent(new d(e,t))}(this);const t=p({root:()=>null,"root/children":()=>[]});this.container=new c(t,this.modules);const e=this.container.get("root/children").map((t,e)=>i.a.createElement(t,{key:e})),o=i.a.createElement(s.a,{c:this.container},e);this.modules.forEach(t=>t.run&&t.run(this.container)),r.a.render(o,this.mount)}}function u(t,e){document.addEventListener(`app/${t}/run`,t=>{e(t.detail.app)})}class d extends CustomEvent{constructor(t,e){super(t,{detail:{app:e}})}}function p(t){return new Map(Object.entries(t))}},33:function(t,o){t.exports=e},35:function(t,e,o){"use strict";function n(t){const e=t.getBoundingClientRect();return e.top>=0&&e.left>=0&&e.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&e.right<=(window.innerWidth||document.documentElement.clientWidth)}function i(t){const e=document.createElement("DIV");return e.innerHTML=t,e.textContent||e.innerText||""}o.d(e,"a",(function(){return n})),o.d(e,"b",(function(){return i}))},37:function(t,e,o){t.exports={root:"MediaThumbnail__root","media-background-fade-in-animation":"MediaThumbnail__media-background-fade-in-animation",mediaBackgroundFadeInAnimation:"MediaThumbnail__media-background-fade-in-animation","media-object-fade-in-animation":"MediaThumbnail__media-object-fade-in-animation",mediaObjectFadeInAnimation:"MediaThumbnail__media-object-fade-in-animation",image:"MediaThumbnail__image","not-available":"MediaThumbnail__not-available",notAvailable:"MediaThumbnail__not-available"}},38:function(t,e,o){t.exports={root:"SettingsField__root layout__flex-column",label:"SettingsField__label layout__flex-column",container:"SettingsField__container layout__flex-row",control:"SettingsField__control layout__flex-column","control-partial-width":"SettingsField__control-partial-width SettingsField__control layout__flex-column",controlPartialWidth:"SettingsField__control-partial-width SettingsField__control layout__flex-column","control-full-width":"SettingsField__control-full-width SettingsField__control layout__flex-column",controlFullWidth:"SettingsField__control-full-width SettingsField__control layout__flex-column",tooltip:"SettingsField__tooltip layout__flex-column"}},382:function(t,e){!function(){t.exports=this.wp.blocks}()},383:function(t,e){!function(){t.exports=this.wp.blockEditor}()},39:function(t,e,o){"use strict";function n(t){return e=>(e.stopPropagation(),t(e))}function i(t,e){let o;return(...n)=>{clearTimeout(o),o=setTimeout(()=>{o=null,t(...n)},e)}}function a(){}o.d(e,"c",(function(){return n})),o.d(e,"a",(function(){return i})),o.d(e,"b",(function(){return a}))},4:function(t,e,o){"use strict";o.d(e,"t",(function(){return u})),o.d(e,"h",(function(){return d})),o.d(e,"b",(function(){return p})),o.d(e,"u",(function(){return h})),o.d(e,"c",(function(){return f})),o.d(e,"e",(function(){return m})),o.d(e,"o",(function(){return g})),o.d(e,"n",(function(){return b})),o.d(e,"k",(function(){return y})),o.d(e,"f",(function(){return v})),o.d(e,"m",(function(){return _})),o.d(e,"p",(function(){return E})),o.d(e,"a",(function(){return O})),o.d(e,"s",(function(){return w})),o.d(e,"r",(function(){return S})),o.d(e,"q",(function(){return C})),o.d(e,"i",(function(){return P})),o.d(e,"j",(function(){return k})),o.d(e,"l",(function(){return A})),o.d(e,"g",(function(){return B})),o.d(e,"d",(function(){return T}));var n=o(0),i=o.n(n),a=o(134),r=o(141),s=o(16),c=o(47);let l=0;function u(){return l++}function d(t){const e={};return Object.keys(t).forEach(o=>{const n=t[o];Array.isArray(n)?e[o]=n.slice():n instanceof Map?e[o]=new Map(n.entries()):e[o]="object"==typeof n?d(n):n}),e}function p(t,e){return Object.keys(e).forEach(o=>{t[o]=e[o]}),t}function h(t,e){return p(d(t),e)}function f(t,e){return Array.isArray(t)&&Array.isArray(e)?m(t,e):t instanceof Map&&e instanceof Map?m(Array.from(t.entries()),Array.from(e.entries())):"object"==typeof t&&"object"==typeof e?g(t,e):t===e}function m(t,e,o){if(t===e)return!0;if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(o){if(!o(t[n],e[n]))return!1}else if(!f(t[n],e[n]))return!1;return!0}function g(t,e){if(!t||!e||"object"!=typeof t||"object"!=typeof e)return f(t,e);const o=Object.keys(t),n=Object.keys(e);if(o.length!==n.length)return!1;const i=new Set(o.concat(n));for(const o of i)if(!f(t[o],e[o]))return!1;return!0}function b(t){return 0===Object.keys(null!=t?t:{}).length}function y(t,e,o){return o=null!=o?o:(t,e)=>t===e,t.filter(t=>!e.some(e=>o(t,e)))}function v(t,e,o){return o=null!=o?o:(t,e)=>t===e,t.every(t=>e.some(e=>o(t,e)))&&e.every(e=>t.some(t=>o(e,t)))}function _(t,e){return 0===t.tag.localeCompare(e.tag)&&t.sort===e.sort}function E(t,e,o=0,a=!1){let r=t.trim();a&&(r=r.replace(/((?:^[.*•]+(\r\n|\r|\n))+)/gm,"\n"));const s=r.split("\n"),c=s.map((t,o)=>{if(t=t.trim(),a&&/^[.*•]$/.test(t))return null;let r,c=[];for(;null!==(r=/#([^\s]+)/g.exec(t));){const e="https://instagram.com/explore/tags/"+r[1],o=i.a.createElement("a",{href:e,target:"_blank",key:u()},r[0]),n=t.substr(0,r.index),a=t.substr(r.index+r[0].length);c.push(n),c.push(o),t=a}return t.length&&c.push(t),e&&(c=e(c,o)),s.length>1&&c.push(i.a.createElement("br",{key:u()})),i.a.createElement(n.Fragment,{key:u()},c)});return o>0?c.slice(0,o):c}var O;function w(t,e){const o=/(\s+)/g;let n,i=0,a=0,r="";for(;null!==(n=o.exec(t))&&i<e;){const e=n.index+n[1].length;r+=t.substr(a,e-a),a=e,i++}return a<t.length&&(r+=" ..."),r}function S(t){return Object(a.a)(Object(r.a)(t),{addSuffix:!0})}function C(t,e){const o=[];return t.forEach((t,n)=>{const i=n%e;Array.isArray(o[i])?o[i].push(t):o[i]=[t]}),o}function P(t,e){return function t(e){if(e.type===s.a.Type.VIDEO){const t=document.createElement("video");return t.autoplay=!1,t.style.position="absolute",t.style.top="0",t.style.left="0",t.style.visibility="hidden",document.body.appendChild(t),new Promise(o=>{t.src=e.url,t.addEventListener("loadeddata",()=>{o({width:t.videoWidth,height:t.videoHeight}),document.body.removeChild(t)})})}if(e.type===s.a.Type.IMAGE){const t=new Image;return t.src=e.url,new Promise(e=>{t.onload=()=>{e({width:t.naturalWidth,height:t.naturalHeight})}})}return e.type===s.a.Type.ALBUM?t(e.children[0]):Promise.reject("Unknown media type")}(t).then(t=>function(t,e){const o=t.width>t.height?e.width/t.width:e.height/t.height;return{width:t.width*o,height:t.height*o}}(t,e))}function k(t,e){const o=e.map(c.b).join("|");return new RegExp(`(?:^|\\B)#(${o})(?:\\b|\\r|$)`,"imu").test(t)}function A(t,e){for(const o of e){const e=o();if(t(e))return e}}function B(t,e){return Math.max(0,Math.min(e.length-1,t))}function T(t,e,o){const n=t.slice();return n[e]=o,n}!function(t){t.SMALL="s",t.MEDIUM="m",t.LARGE="l"}(O||(O={}))},47:function(t,e,o){"use strict";o.d(e,"a",(function(){return n})),o.d(e,"b",(function(){return i}));const n=(t,e)=>t.startsWith(e)?t:e+t,i=t=>{return(e=t,"#",e.startsWith("#")?e.substr("#".length):e).split(/\s/).map((t,e)=>e>0?t[0].toUpperCase()+t.substr(1):t).join("").replace(/\W/gi,"");var e}},51:function(t,e,o){t.exports={root:"SettingsGroup__root layout__flex-column",title:"SettingsGroup__title",content:"SettingsGroup__content","field-list":"SettingsGroup__field-list layout__flex-column",fieldList:"SettingsGroup__field-list layout__flex-column"}},58:function(t,e,o){"use strict";o.d(e,"a",(function(){return s}));var n=o(0),i=o.n(n),a=o(74),r=o.n(a);function s(){return i.a.createElement("div",{className:r.a.root})}},59:function(t,e,o){"use strict";var n=o(0),i=o.n(n),a=o(77),r=o.n(a),s=o(3),c=o(11),l=o(6);e.a=Object(l.b)((function(t){var{account:e,square:o,className:n}=t,a=function(t,e){var o={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(o[n]=t[n]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(o[n[i]]=t[n[i]])}return o}(t,["account","square","className"]);const l=s.b.getProfilePicUrl(e),u=Object(c.b)(o?r.a.square:r.a.round,n);return i.a.createElement("img",Object.assign({},a,{className:u,src:s.b.DEFAULT_PROFILE_PIC,srcSet:l+" 1x",alt:e.username+" profile picture"}))}))},60:function(t,e,o){t.exports={root:"SettingsPage__root layout__flex-column",content:"SettingsPage__content","group-list":"SettingsPage__group-list layout__flex-column",groupList:"SettingsPage__group-list layout__flex-column"}},609:function(t,e,o){"use strict";o.r(e),o(255);var n=o(382),i=o(0),a=o.n(i),r=o(118),s=o.n(r),c=o(6),l=o(383),u=o(253),d=o(7),p=o(26),h=o(2),f=o(1),m=function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};class g{constructor(){this.feedsLoaded=!1,this.accountsLoaded=!1,this.isLoaded=!1,Object(f.o)(()=>this.feedsLoaded&&this.accountsLoaded,t=>{this.isLoaded=t})}}m([f.n],g.prototype,"feedsLoaded",void 0),m([f.n],g.prototype,"accountsLoaded",void 0),m([f.n],g.prototype,"isLoaded",void 0);var b=new g,y=o(20),v=o(12),_=o(11),E=o(109),O=o(14);const w={label:"- Choose a feed -",value:""},S=O.a.config.adminUrl+"admin.php?page=spotlight-instagram&screen=new",C=Object(c.b)(({attributes:t,setAttributes:e,className:o})=>{const n=a.a.useRef(null),[r,c]=a.a.useState(null),[f,m]=a.a.useState(!1),[g,O]=a.a.useState(!1);function C(t){if(b.isLoaded)if(t){const o=null!==n.current&&n.current===t,i=p.a.getById(t);if(o)i||(c(null),m(!0),O(!0));else{e({feedId:t}),n.current=t;const o=i?new d.a(i.options):null;o&&o.load(),c(o),m(null===o),O(null===o)}}else 1===p.a.list.length?C(p.a.list[0].id):m(!0)}function P(t){e({feedId:parseInt(t)}),m(!1)}if(Object(i.useEffect)(()=>C(t.feedId),[b.isLoaded,t.feedId]),Object(i.useEffect)(()=>p.a.list.observe(()=>{C(t.feedId)}),[t.feedId]),Object(y.m)(a.a.useCallback(t=>{r&&(r.mode=h.a.getModeForWindowSize(t))},[r])),!b.isLoaded)return a.a.createElement("div",null);const k=t.feedId?t.feedId.toString():"",A=p.a.list.map(t=>({label:t.name?t.name:"(no name)",value:""+t.id}));return a.a.createElement("div",null,!f&&a.a.createElement(l.BlockControls,null,!f&&p.a.list.length>1&&a.a.createElement(u.Toolbar,null,a.a.createElement("div",{className:s.a.selector},a.a.createElement("label",{className:s.a.selectorLabel},a.a.createElement("span",null,"Feed:")),a.a.createElement("div",{className:s.a.selectorListContainer},a.a.createElement(u.SelectControl,{value:k,onChange:P,options:A}))))),a.a.createElement("div",null,f?a.a.createElement("div",{className:s.a.root},a.a.createElement("img",{className:s.a.logo,src:v.a.image("spotlight-favicon.png"),alt:""}),g&&a.a.createElement("div",{className:s.a.missingFeedMsg},"This block is hidden because the selected feed (with ID #",k,") does not"," ","exist or has been deleted."),0===p.a.list.length&&a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:s.a.label},"You do not have any Instagram feeds."),a.a.createElement("div",{className:s.a.label},"Go to"," ",a.a.createElement("a",{href:S,target:"_blank"},"Instagram feeds → Add New")," ","to begin designing your first feed."),a.a.createElement("div",{className:s.a.label},"You can keep this page open and Spotlight's block will automatically detect"," ","your new feed.")),p.a.list.length>0&&a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:s.a.label},"Choose which Instagram feed to show:"),a.a.createElement(u.SelectControl,{value:k,onChange:P,options:[w].concat(A)}))):a.a.createElement("div",{className:Object(_.b)(o,s.a.feedContainer)},r&&(r.isLoading||r.isLoaded&&r.media.length>0)&&a.a.createElement(E.a,{feed:r}),r&&r.isLoaded&&0===r.media.length&&a.a.createElement("div",null,"This feed does not have any posts to show"))))}),P={title:"Spotlight Instagram Feed",description:"Embed a Spotlight Instagram feed",category:"widgets",icon:"instagram",keywords:["instagram","feed","feeds","ig","story","spotlight"],attributes:{feedId:{type:"number"}},supports:{html:!1},edit:function(t){return a.a.createElement(C,Object.assign({},t))}};var k=o(3);Object(n.registerBlockType)("spotlight/instagram",P),p.a.loadFeeds().then(()=>b.feedsLoaded=!0).catch(console.error),k.b.loadAccounts().then(()=>b.accountsLoaded=!0).catch(console.error),window.addEventListener("focus",(function(){b.feedsLoaded&&k.b.loadAccounts().then(()=>{p.a.loadFeeds().catch(console.error)}).catch(console.error)}))},7:function(t,e,o){"use strict";o.d(e,"a",(function(){return y}));var n=o(34),i=o.n(n),a=o(1),r=o(2),s=o(27),c=o(32),l=o(3),u=o(4),d=o(13),p=o(18),h=o(39),f=o(8),m=o(19),g=o(12),b=function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};class y{constructor(t=new y.Options,e=r.a.Mode.DESKTOP){this.media=[],this.canLoadMore=!1,this.stories=[],this.numLoadedMore=0,this.totalMedia=0,this.mode=r.a.Mode.DESKTOP,this.isLoaded=!1,this.isLoading=!1,this.isLoadingMore=!1,this.numMediaToShow=0,this.numMediaPerPage=0,this.cancelFetch=()=>{},this.options=new y.Options(t),this.localMedia=[],this.mode=e,this.mediaCounter=this._numMediaPerPage,this.reload=Object(h.a)(()=>this.load(),300),Object(a.o)(()=>this.mode,()=>{0===this.numLoadedMore&&(this.mediaCounter=this._numMediaPerPage,this.localMedia.length<this.numMediaToShow&&this.loadMedia(this.localMedia.length,this.numMediaToShow-this.localMedia.length))}),Object(a.o)(()=>this.getReloadOptions(),()=>this.reload()),Object(a.o)(()=>({num:this._numMediaPerPage,mode:this.mode}),({num:t})=>{this.localMedia.length<t&&t<=this.totalMedia?this.reload():this.mediaCounter=Math.max(1,t)}),Object(a.o)(()=>this._media,t=>this.media=t),Object(a.o)(()=>this._numMediaToShow,t=>this.numMediaToShow=t),Object(a.o)(()=>this._numMediaPerPage,t=>this.numMediaPerPage=t),Object(a.o)(()=>this._canLoadMore,t=>this.canLoadMore=t)}get _media(){return this.localMedia.slice(0,this.numMediaToShow)}get _numMediaToShow(){return Math.min(this.mediaCounter,this.totalMedia)}get _numMediaPerPage(){return Math.max(1,y.ComputedOptions.normalizeMultiInt(this.options.numPosts,this.mode,1))}get _canLoadMore(){return this.localMedia.length>this.mediaCounter||this.localMedia.length<this.totalMedia}loadMore(){const t=this.numMediaToShow+this._numMediaPerPage-this.localMedia.length;return this.isLoadingMore=!0,t>0?this.loadMedia(this.localMedia.length,this._numMediaPerPage).then(()=>{this.mediaCounter+=this._numMediaPerPage,this.numLoadedMore++,this.isLoadingMore=!1}):new Promise(t=>{this.numLoadedMore++,this.mediaCounter+=this._numMediaPerPage,this.isLoadingMore=!1,t()})}load(){return this.numLoadedMore=0,this.loadMedia(0,this._numMediaPerPage,!0).then(()=>(this.isLoaded=!0,this.mediaCounter=this._numMediaPerPage))}loadMedia(t,e,o){return this.cancelFetch(),y.Options.hasSources(this.options)?(this.isLoading=!0,new Promise((n,a)=>{p.a.getFeedMedia(this.options,t,e,t=>this.cancelFetch=t).then(t=>{var e;if("object"!=typeof t||"object"!=typeof t.data||!Array.isArray(t.data.media))throw{message:"The media response is malformed or corrupt",response:t};o&&(this.localMedia=[]),this.localMedia.push(...t.data.media),this.stories=null!==(e=t.data.stories)&&void 0!==e?e:[],this.totalMedia=t.data.total,n&&n()}).catch(t=>{var e;if(i.a.isCancel(t))return null;const o=new y.Events.FetchFailEvent(y.Events.FETCH_FAIL,{detail:{feed:this,message:null!==(e=t.response?t.response.data.message:void 0)&&void 0!==e?e:t.message,response:t.response}});return document.dispatchEvent(o),a&&a(t),t}).finally(()=>this.isLoading=!1)})):new Promise(t=>{this.localMedia=[],this.totalMedia=0,t&&t()})}getReloadOptions(){return JSON.stringify({accounts:this.options.accounts,hashtags:this.options.hashtags,tagged:this.options.tagged,postOrder:this.options.postOrder,mediaType:this.options.mediaType,moderation:this.options.moderation,moderationMode:this.options.moderationMode,hashtagBlacklist:this.options.hashtagBlacklist,hashtagWhitelist:this.options.hashtagWhitelist,captionBlacklist:this.options.captionBlacklist,captionWhitelist:this.options.captionWhitelist,hashtagBlacklistSettings:this.options.hashtagBlacklistSettings,hashtagWhitelistSettings:this.options.hashtagWhitelistSettings,captionBlacklistSettings:this.options.captionBlacklistSettings,captionWhitelistSettings:this.options.captionWhitelistSettings})}}b([a.n],y.prototype,"media",void 0),b([a.n],y.prototype,"canLoadMore",void 0),b([a.n],y.prototype,"stories",void 0),b([a.n],y.prototype,"numLoadedMore",void 0),b([a.n],y.prototype,"options",void 0),b([a.n],y.prototype,"totalMedia",void 0),b([a.n],y.prototype,"mode",void 0),b([a.n],y.prototype,"isLoaded",void 0),b([a.n],y.prototype,"isLoading",void 0),b([a.n],y.prototype,"isLoadingMore",void 0),b([a.f],y.prototype,"reload",void 0),b([a.n],y.prototype,"localMedia",void 0),b([a.n],y.prototype,"numMediaToShow",void 0),b([a.n],y.prototype,"numMediaPerPage",void 0),b([a.n],y.prototype,"mediaCounter",void 0),b([a.h],y.prototype,"_media",null),b([a.h],y.prototype,"_numMediaToShow",null),b([a.h],y.prototype,"_numMediaPerPage",null),b([a.h],y.prototype,"_canLoadMore",null),b([a.f],y.prototype,"loadMore",null),b([a.f],y.prototype,"load",null),b([a.f],y.prototype,"loadMedia",null),function(t){let e,o,n,i,p,h,y,v,_;!function(t){t.FETCH_FAIL="sli/feed/fetch_fail";class e extends CustomEvent{constructor(t,e){super(t,e)}}t.FetchFailEvent=e}(e=t.Events||(t.Events={}));class E{constructor(t={}){E.setFromObject(this,t)}static setFromObject(e,o={}){var n,i,a,c,u,d,p,h,f,g,b,y,v,_,E;return e.accounts=o.accounts?o.accounts.slice():t.DefaultOptions.accounts,e.hashtags=o.hashtags?o.hashtags.slice():t.DefaultOptions.hashtags,e.tagged=o.tagged?o.tagged.slice():t.DefaultOptions.tagged,e.layout=s.a.getById(o.layout).id,e.numColumns=r.a.normalize(o.numColumns,t.DefaultOptions.numColumns),e.highlightFreq=r.a.normalize(o.highlightFreq,t.DefaultOptions.highlightFreq),e.mediaType=o.mediaType||t.DefaultOptions.mediaType,e.postOrder=o.postOrder||t.DefaultOptions.postOrder,e.numPosts=r.a.normalize(o.numPosts,t.DefaultOptions.numPosts),e.linkBehavior=r.a.normalize(o.linkBehavior,t.DefaultOptions.linkBehavior),e.feedWidth=r.a.normalize(o.feedWidth,t.DefaultOptions.feedWidth),e.feedHeight=r.a.normalize(o.feedHeight,t.DefaultOptions.feedHeight),e.feedPadding=r.a.normalize(o.feedPadding,t.DefaultOptions.feedPadding),e.imgPadding=r.a.normalize(o.imgPadding,t.DefaultOptions.imgPadding),e.textSize=r.a.normalize(o.textSize,t.DefaultOptions.textSize),e.bgColor=o.bgColor||t.DefaultOptions.bgColor,e.hoverInfo=o.hoverInfo?o.hoverInfo.slice():t.DefaultOptions.hoverInfo,e.textColorHover=o.textColorHover||t.DefaultOptions.textColorHover,e.bgColorHover=o.bgColorHover||t.DefaultOptions.bgColorHover,e.showHeader=r.a.normalize(o.showHeader,t.DefaultOptions.showHeader),e.headerInfo=r.a.normalize(o.headerInfo,t.DefaultOptions.headerInfo),e.headerAccount=null!==(n=o.headerAccount)&&void 0!==n?n:t.DefaultOptions.headerAccount,e.headerAccount=null===e.headerAccount||void 0===l.b.getById(e.headerAccount)?l.b.list.length>0?l.b.list[0].id:null:e.headerAccount,e.headerStyle=r.a.normalize(o.headerStyle,t.DefaultOptions.headerStyle),e.headerTextSize=r.a.normalize(o.headerTextSize,t.DefaultOptions.headerTextSize),e.headerPhotoSize=r.a.normalize(o.headerPhotoSize,t.DefaultOptions.headerPhotoSize),e.headerTextColor=o.headerTextColor||t.DefaultOptions.headerTextColor,e.headerBgColor=o.headerBgColor||t.DefaultOptions.bgColor,e.headerPadding=r.a.normalize(o.headerPadding,t.DefaultOptions.headerPadding),e.customProfilePic=null!==(i=o.customProfilePic)&&void 0!==i?i:t.DefaultOptions.customProfilePic,e.customBioText=o.customBioText||t.DefaultOptions.customBioText,e.includeStories=null!==(a=o.includeStories)&&void 0!==a?a:t.DefaultOptions.includeStories,e.storiesInterval=o.storiesInterval||t.DefaultOptions.storiesInterval,e.showCaptions=r.a.normalize(o.showCaptions,t.DefaultOptions.showCaptions),e.captionMaxLength=r.a.normalize(o.captionMaxLength,t.DefaultOptions.captionMaxLength),e.captionRemoveDots=null!==(c=o.captionRemoveDots)&&void 0!==c?c:t.DefaultOptions.captionRemoveDots,e.captionSize=r.a.normalize(o.captionSize,t.DefaultOptions.captionSize),e.captionColor=o.captionColor||t.DefaultOptions.captionColor,e.showLikes=r.a.normalize(o.showLikes,t.DefaultOptions.showLikes),e.showComments=r.a.normalize(o.showComments,t.DefaultOptions.showCaptions),e.lcIconSize=r.a.normalize(o.lcIconSize,t.DefaultOptions.lcIconSize),e.likesIconColor=null!==(u=o.likesIconColor)&&void 0!==u?u:t.DefaultOptions.likesIconColor,e.commentsIconColor=o.commentsIconColor||t.DefaultOptions.commentsIconColor,e.lightboxShowSidebar=null!==(d=o.lightboxShowSidebar)&&void 0!==d?d:t.DefaultOptions.lightboxShowSidebar,e.numLightboxComments=o.numLightboxComments||t.DefaultOptions.numLightboxComments,e.showLoadMoreBtn=r.a.normalize(o.showLoadMoreBtn,t.DefaultOptions.showLoadMoreBtn),e.loadMoreBtnTextColor=o.loadMoreBtnTextColor||t.DefaultOptions.loadMoreBtnTextColor,e.loadMoreBtnBgColor=o.loadMoreBtnBgColor||t.DefaultOptions.loadMoreBtnBgColor,e.loadMoreBtnText=o.loadMoreBtnText||t.DefaultOptions.loadMoreBtnText,e.autoload=null!==(p=o.autoload)&&void 0!==p?p:t.DefaultOptions.autoload,e.showFollowBtn=r.a.normalize(o.showFollowBtn,t.DefaultOptions.showFollowBtn),e.followBtnText=null!==(h=o.followBtnText)&&void 0!==h?h:t.DefaultOptions.followBtnText,e.followBtnTextColor=o.followBtnTextColor||t.DefaultOptions.followBtnTextColor,e.followBtnBgColor=o.followBtnBgColor||t.DefaultOptions.followBtnBgColor,e.followBtnLocation=r.a.normalize(o.followBtnLocation,t.DefaultOptions.followBtnLocation),e.hashtagWhitelist=o.hashtagWhitelist||t.DefaultOptions.hashtagWhitelist,e.hashtagBlacklist=o.hashtagBlacklist||t.DefaultOptions.hashtagBlacklist,e.captionWhitelist=o.captionWhitelist||t.DefaultOptions.captionWhitelist,e.captionBlacklist=o.captionBlacklist||t.DefaultOptions.captionBlacklist,e.hashtagWhitelistSettings=null!==(f=o.hashtagWhitelistSettings)&&void 0!==f?f:t.DefaultOptions.hashtagWhitelistSettings,e.hashtagBlacklistSettings=null!==(g=o.hashtagBlacklistSettings)&&void 0!==g?g:t.DefaultOptions.hashtagBlacklistSettings,e.captionWhitelistSettings=null!==(b=o.captionWhitelistSettings)&&void 0!==b?b:t.DefaultOptions.captionWhitelistSettings,e.captionBlacklistSettings=null!==(y=o.captionBlacklistSettings)&&void 0!==y?y:t.DefaultOptions.captionBlacklistSettings,e.moderation=o.moderation||t.DefaultOptions.moderation,e.moderationMode=o.moderationMode||t.DefaultOptions.moderationMode,e.promotionEnabled=null!==(v=o.promotionEnabled)&&void 0!==v?v:t.DefaultOptions.promotionEnabled,e.autoPromotionsEnabled=null!==(_=o.autoPromotionsEnabled)&&void 0!==_?_:t.DefaultOptions.autoPromotionsEnabled,e.globalPromotionsEnabled=null!==(E=o.globalPromotionsEnabled)&&void 0!==E?E:t.DefaultOptions.globalPromotionsEnabled,Array.isArray(o.promotions)?e.promotions=m.a.fromArray(o.promotions):o.promotions&&o.promotions instanceof Map?e.promotions=m.a.fromMap(o.promotions):"object"==typeof o.promotions?e.promotions=o.promotions:e.promotions=t.DefaultOptions.promotions,e}static getAllAccounts(t){const e=l.b.idsToAccounts(t.accounts),o=l.b.idsToAccounts(t.tagged);return{all:e.concat(o),accounts:e,tagged:o}}static getSources(t){return{accounts:l.b.idsToAccounts(t.accounts),tagged:l.b.idsToAccounts(t.tagged),hashtags:l.b.getBusinessAccounts().length>0?t.hashtags.filter(t=>t.tag.length>0):[]}}static hasSources(e){const o=t.Options.getSources(e),n=o.accounts.length>0||o.tagged.length>0,i=o.hashtags.length>0;return n||i}static isLimitingPosts(t){return t.moderation.length>0||t.hashtagBlacklist.length>0||t.hashtagWhitelist.length>0||t.captionBlacklist.length>0||t.captionWhitelist.length>0}}b([a.n],E.prototype,"accounts",void 0),b([a.n],E.prototype,"hashtags",void 0),b([a.n],E.prototype,"tagged",void 0),b([a.n],E.prototype,"layout",void 0),b([a.n],E.prototype,"numColumns",void 0),b([a.n],E.prototype,"highlightFreq",void 0),b([a.n],E.prototype,"mediaType",void 0),b([a.n],E.prototype,"postOrder",void 0),b([a.n],E.prototype,"numPosts",void 0),b([a.n],E.prototype,"linkBehavior",void 0),b([a.n],E.prototype,"feedWidth",void 0),b([a.n],E.prototype,"feedHeight",void 0),b([a.n],E.prototype,"feedPadding",void 0),b([a.n],E.prototype,"imgPadding",void 0),b([a.n],E.prototype,"textSize",void 0),b([a.n],E.prototype,"bgColor",void 0),b([a.n],E.prototype,"textColorHover",void 0),b([a.n],E.prototype,"bgColorHover",void 0),b([a.n],E.prototype,"hoverInfo",void 0),b([a.n],E.prototype,"showHeader",void 0),b([a.n],E.prototype,"headerInfo",void 0),b([a.n],E.prototype,"headerAccount",void 0),b([a.n],E.prototype,"headerStyle",void 0),b([a.n],E.prototype,"headerTextSize",void 0),b([a.n],E.prototype,"headerPhotoSize",void 0),b([a.n],E.prototype,"headerTextColor",void 0),b([a.n],E.prototype,"headerBgColor",void 0),b([a.n],E.prototype,"headerPadding",void 0),b([a.n],E.prototype,"customBioText",void 0),b([a.n],E.prototype,"customProfilePic",void 0),b([a.n],E.prototype,"includeStories",void 0),b([a.n],E.prototype,"storiesInterval",void 0),b([a.n],E.prototype,"showCaptions",void 0),b([a.n],E.prototype,"captionMaxLength",void 0),b([a.n],E.prototype,"captionRemoveDots",void 0),b([a.n],E.prototype,"captionSize",void 0),b([a.n],E.prototype,"captionColor",void 0),b([a.n],E.prototype,"showLikes",void 0),b([a.n],E.prototype,"showComments",void 0),b([a.n],E.prototype,"lcIconSize",void 0),b([a.n],E.prototype,"likesIconColor",void 0),b([a.n],E.prototype,"commentsIconColor",void 0),b([a.n],E.prototype,"lightboxShowSidebar",void 0),b([a.n],E.prototype,"numLightboxComments",void 0),b([a.n],E.prototype,"showLoadMoreBtn",void 0),b([a.n],E.prototype,"loadMoreBtnText",void 0),b([a.n],E.prototype,"loadMoreBtnTextColor",void 0),b([a.n],E.prototype,"loadMoreBtnBgColor",void 0),b([a.n],E.prototype,"autoload",void 0),b([a.n],E.prototype,"showFollowBtn",void 0),b([a.n],E.prototype,"followBtnText",void 0),b([a.n],E.prototype,"followBtnTextColor",void 0),b([a.n],E.prototype,"followBtnBgColor",void 0),b([a.n],E.prototype,"followBtnLocation",void 0),b([a.n],E.prototype,"hashtagWhitelist",void 0),b([a.n],E.prototype,"hashtagBlacklist",void 0),b([a.n],E.prototype,"captionWhitelist",void 0),b([a.n],E.prototype,"captionBlacklist",void 0),b([a.n],E.prototype,"hashtagWhitelistSettings",void 0),b([a.n],E.prototype,"hashtagBlacklistSettings",void 0),b([a.n],E.prototype,"captionWhitelistSettings",void 0),b([a.n],E.prototype,"captionBlacklistSettings",void 0),b([a.n],E.prototype,"moderation",void 0),b([a.n],E.prototype,"moderationMode",void 0),t.Options=E;class O{constructor(t){Object.getOwnPropertyNames(t).map(e=>{this[e]=t[e]})}getCaption(t){const e=t.caption?t.caption:"";return this.captionMaxLength&&e.length?Object(u.p)(Object(u.s)(e,this.captionMaxLength)):e}static compute(e,o=r.a.Mode.DESKTOP){const n=new O({accounts:l.b.filterExisting(e.accounts),tagged:l.b.filterExisting(e.tagged),hashtags:e.hashtags.filter(t=>t.tag.length>0),layout:s.a.getById(e.layout),highlightFreq:r.a.get(e.highlightFreq,o,!0),linkBehavior:r.a.get(e.linkBehavior,o,!0),bgColor:Object(d.a)(e.bgColor),textColorHover:Object(d.a)(e.textColorHover),bgColorHover:Object(d.a)(e.bgColorHover),hoverInfo:e.hoverInfo,showHeader:r.a.get(e.showHeader,o,!0),headerInfo:r.a.get(e.headerInfo,o,!0),headerStyle:r.a.get(e.headerStyle,o,!0),headerTextColor:Object(d.a)(e.headerTextColor),headerBgColor:Object(d.a)(e.headerBgColor),headerPadding:r.a.get(e.headerPadding,o,!0),includeStories:e.includeStories,storiesInterval:e.storiesInterval,showCaptions:r.a.get(e.showCaptions,o,!0),captionMaxLength:r.a.get(e.captionMaxLength,o,!0),captionRemoveDots:e.captionRemoveDots,captionColor:Object(d.a)(e.captionColor),showLikes:r.a.get(e.showLikes,o,!0),showComments:r.a.get(e.showComments,o,!0),likesIconColor:Object(d.a)(e.likesIconColor),commentsIconColor:Object(d.a)(e.commentsIconColor),lightboxShowSidebar:e.lightboxShowSidebar,numLightboxComments:e.numLightboxComments,showLoadMoreBtn:r.a.get(e.showLoadMoreBtn,o,!0),loadMoreBtnTextColor:Object(d.a)(e.loadMoreBtnTextColor),loadMoreBtnBgColor:Object(d.a)(e.loadMoreBtnBgColor),loadMoreBtnText:e.loadMoreBtnText,showFollowBtn:r.a.get(e.showFollowBtn,o,!0),autoload:e.autoload,followBtnLocation:r.a.get(e.followBtnLocation,o,!0),followBtnTextColor:Object(d.a)(e.followBtnTextColor),followBtnBgColor:Object(d.a)(e.followBtnBgColor),followBtnText:e.followBtnText,account:null,showBio:!1,bioText:null,profilePhotoUrl:l.b.DEFAULT_PROFILE_PIC,feedWidth:"",feedHeight:"",feedPadding:"",imgPadding:"",textSize:"",headerTextSize:"",headerPhotoSize:"",captionSize:"",lcIconSize:"",showLcIcons:!1});if(n.numColumns=this.getNumCols(e,o),n.numPosts=this.getNumPosts(e,o),n.allAccounts=n.accounts.concat(n.tagged.filter(t=>!n.accounts.includes(t))),n.allAccounts.length>0&&(n.account=e.headerAccount&&n.allAccounts.includes(e.headerAccount)?l.b.getById(e.headerAccount):l.b.getById(n.allAccounts[0])),n.showHeader=n.showHeader&&null!==n.account,n.showHeader&&(n.profilePhotoUrl=e.customProfilePic.length?e.customProfilePic:l.b.getProfilePicUrl(n.account)),n.showFollowBtn=n.showFollowBtn&&null!==n.account,n.showBio=n.headerInfo.some(e=>e===t.HeaderInfo.BIO),n.showBio){const t=e.customBioText.trim().length>0?e.customBioText:null!==n.account?l.b.getBioText(n.account):"";n.bioText=Object(u.p)(t),n.showBio=n.bioText.length>0}return n.feedWidth=this.normalizeCssSize(e.feedWidth,o,"auto"),n.feedHeight=this.normalizeCssSize(e.feedHeight,o,"auto"),n.feedPadding=this.normalizeCssSize(e.feedPadding,o,"0"),n.imgPadding=this.normalizeCssSize(e.imgPadding,o,"0"),n.textSize=this.normalizeCssSize(e.textSize,o,"inherit",!0),n.headerTextSize=this.normalizeCssSize(e.headerTextSize,o,"inherit"),n.headerPhotoSize=this.normalizeCssSize(e.headerPhotoSize,o,"50px"),n.captionSize=this.normalizeCssSize(e.captionSize,o,"inherit"),n.lcIconSize=this.normalizeCssSize(e.lcIconSize,o,"inherit"),n.buttonPadding=Math.max(10,r.a.get(e.imgPadding,o))+"px",n.showLcIcons=n.showLikes||n.showComments,n}static getNumCols(t,e){return Math.max(1,this.normalizeMultiInt(t.numColumns,e,1))}static getNumPosts(t,e){return Math.max(1,this.normalizeMultiInt(t.numPosts,e,1))}static normalizeMultiInt(t,e,o=0){const n=parseInt(r.a.get(t,e)+"");return isNaN(n)?e===r.a.Mode.DESKTOP?o:this.normalizeMultiInt(t,r.a.Mode.DESKTOP,o):n}static normalizeCssSize(t,e,o=null,n=!1){const i=r.a.get(t,e,n);return i?i+"px":o}}function w(t,e){if(g.a.isPro)return Object(u.l)(f.a.isValid,[()=>S(t,e),()=>e.globalPromotionsEnabled&&f.a.getGlobalPromo(t),()=>e.autoPromotionsEnabled&&f.a.getAutoPromo(t)])}function S(t,e){return t?f.a.getPromoFromDictionary(t,e.promotions):void 0}t.ComputedOptions=O,t.HashtagSorting=Object(c.c)({recent:"Most recent",popular:"Most popular"}),function(t){t.ALL="all",t.PHOTOS="photos",t.VIDEOS="videos"}(o=t.MediaType||(t.MediaType={})),function(t){t.NOTHING="nothing",t.SELF="self",t.NEW_TAB="new_tab",t.LIGHTBOX="lightbox"}(n=t.LinkBehavior||(t.LinkBehavior={})),function(t){t.DATE_ASC="date_asc",t.DATE_DESC="date_desc",t.POPULARITY_ASC="popularity_asc",t.POPULARITY_DESC="popularity_desc",t.RANDOM="random"}(i=t.PostOrder||(t.PostOrder={})),function(t){t.USERNAME="username",t.DATE="date",t.CAPTION="caption",t.LIKES_COMMENTS="likes_comments",t.INSTA_LINK="insta_link"}(p=t.HoverInfo||(t.HoverInfo={})),function(t){t.NORMAL="normal",t.BOXED="boxed",t.CENTERED="centered"}(h=t.HeaderStyle||(t.HeaderStyle={})),function(t){t.BIO="bio",t.PROFILE_PIC="profile_pic",t.FOLLOWERS="followers",t.MEDIA_COUNT="media_count"}(y=t.HeaderInfo||(t.HeaderInfo={})),function(t){t.HEADER="header",t.BOTTOM="bottom",t.BOTH="both"}(v=t.FollowBtnLocation||(t.FollowBtnLocation={})),function(t){t.WHITELIST="whitelist",t.BLACKLIST="blacklist"}(_=t.ModerationMode||(t.ModerationMode={})),t.DefaultOptions={accounts:[],hashtags:[],tagged:[],layout:null,numColumns:{desktop:3},highlightFreq:{desktop:7},mediaType:o.ALL,postOrder:i.DATE_DESC,numPosts:{desktop:9},linkBehavior:{desktop:n.LIGHTBOX,phone:n.NEW_TAB},feedWidth:{desktop:""},feedHeight:{desktop:""},feedPadding:{desktop:20,tablet:14,phone:10},imgPadding:{desktop:14,tablet:10,phone:6},textSize:{all:""},bgColor:{r:255,g:255,b:255,a:1},hoverInfo:[p.LIKES_COMMENTS,p.INSTA_LINK],textColorHover:{r:255,g:255,b:255,a:1},bgColorHover:{r:0,g:0,b:0,a:.5},showHeader:{desktop:!0},headerInfo:{desktop:[y.PROFILE_PIC,y.BIO]},headerAccount:null,headerStyle:{desktop:h.NORMAL,phone:h.CENTERED},headerTextSize:{desktop:""},headerPhotoSize:{desktop:50},headerTextColor:{r:0,g:0,b:0,a:1},headerBgColor:{r:255,g:255,b:255,a:1},headerPadding:{desktop:0},customProfilePic:0,customBioText:"",includeStories:!1,storiesInterval:5,showCaptions:{desktop:!1},captionMaxLength:{desktop:0},captionRemoveDots:!1,captionSize:{desktop:0},captionColor:{r:0,g:0,b:0,a:1},showLikes:{desktop:!1},showComments:{desktop:!1},lcIconSize:{desktop:14},likesIconColor:{r:0,g:0,b:0,a:1},commentsIconColor:{r:0,g:0,b:0,a:1},lightboxShowSidebar:!1,numLightboxComments:50,showLoadMoreBtn:{desktop:!0},loadMoreBtnTextColor:{r:255,g:255,b:255,a:1},loadMoreBtnBgColor:{r:0,g:149,b:246,a:1},loadMoreBtnText:"Load more",autoload:!1,showFollowBtn:{desktop:!0},followBtnText:"Follow on Instagram",followBtnTextColor:{r:255,g:255,b:255,a:1},followBtnBgColor:{r:0,g:149,b:246,a:1},followBtnLocation:{desktop:v.HEADER,phone:v.BOTTOM},hashtagWhitelist:[],hashtagBlacklist:[],captionWhitelist:[],captionBlacklist:[],hashtagWhitelistSettings:!0,hashtagBlacklistSettings:!0,captionWhitelistSettings:!0,captionBlacklistSettings:!0,moderation:[],moderationMode:_.BLACKLIST,promotionEnabled:!0,autoPromotionsEnabled:!0,globalPromotionsEnabled:!0,promotions:{}},t.getPromo=w,t.getFeedPromo=S,t.executeMediaClick=function(t,e){const o=w(t,e),n=f.a.getConfig(o),i=f.a.getType(o);return!(!i||!i.isValid(n)||"function"!=typeof i.onMediaClick)&&i.onMediaClick(t,n)},t.getLink=function(t,e){var o,n;const i=w(t,e),a=f.a.getConfig(i),r=f.a.getType(i);if(void 0===r||!r.isValid(a))return{text:null,url:null,newTab:!1};let[s,c]=r.getPopupLink?null!==(o=r.getPopupLink(t,a))&&void 0!==o?o:null:[null,!1];return{text:s,url:r.getMediaUrl&&null!==(n=r.getMediaUrl(t,a))&&void 0!==n?n:null,newTab:c}}}(y||(y={}))},73:function(t,e,o){"use strict";o.d(e,"a",(function(){return p}));var n=o(0),i=o.n(n),a=o(37),r=o.n(a),s=o(97),c=o(4),l=o(58),u=o(11),d=o(19);function p(t){var{media:e,className:o,size:a,onLoadImage:p,width:h,height:f}=t,m=function(t,e){var o={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(o[n]=t[n]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(o[n[i]]=t[n[i]])}return o}(t,["media","className","size","onLoadImage","width","height"]);const g=i.a.useRef(),b=i.a.useRef(),[y,v]=i.a.useState(!0);function _(){if(g.current){const t=null!=a?a:function(){const t=g.current.getBoundingClientRect();return t.width<=320?c.a.SMALL:(t.width,c.a.MEDIUM)}(),o="object"==typeof e.thumbnails&&d.a.has(e.thumbnails,t)?d.a.get(e.thumbnails,t):e.thumbnail;g.current.src!==o&&(g.current.src=o)}}return Object(n.useLayoutEffect)(()=>{if("VIDEO"!==e.type){let t=new s.a(_);return g.current&&(g.current.onload=()=>{v(!1),p&&p()},g.current.onerror=()=>{g.current.src!==e.thumbnail&&(g.current.src=e.thumbnail),v(!1),p&&p()},_(),t.observe(g.current)),()=>{g.current.onload=()=>null,g.current.onerror=()=>null,t.disconnect()}}b.current&&(b.current.currentTime=1,v(!1),p&&p())},[e,a]),e.url&&e.url.length>0?i.a.createElement("div",Object.assign({className:Object(u.b)(r.a.root,o)},m),"VIDEO"===e.type&&i.a.createElement("video",{ref:b,className:r.a.video,src:e.url,autoPlay:!1,controls:!1,tabIndex:0},i.a.createElement("source",{src:e.url}),"Your browser does not support videos"),"VIDEO"!==e.type&&i.a.createElement("img",Object.assign({ref:g,className:r.a.image,loading:"lazy",alt:e.caption,width:h,height:f},u.e)),y&&i.a.createElement(l.a,null)):i.a.createElement("div",{className:r.a.notAvailable},i.a.createElement("span",null,"Thumbnail not available"))}},74:function(t,e,o){t.exports={root:"MediaLoading__root",animation:"MediaLoading__animation"}},76:function(t,e,o){"use strict";o.d(e,"c",(function(){return r})),o.d(e,"a",(function(){return s})),o.d(e,"b",(function(){return c}));var n=o(7),i=o(18),a=o(4);class r{constructor(t=!1,e=!1){this.incModeration=!1,this.incFilters=!1,this.prevOptions=null,this.media=new Array,this.incModeration=t,this.incFilters=e}fetchMedia(t,e){if(this.hasCache(t))return Promise.resolve(this.media);const o=Object.assign({},t.options,{moderation:this.incModeration?t.options.moderation:[],moderationMode:t.options.moderationMode,hashtagBlacklist:this.incFilters?t.options.hashtagBlacklist:[],hashtagWhitelist:this.incFilters?t.options.hashtagWhitelist:[],captionBlacklist:this.incFilters?t.options.captionBlacklist:[],captionWhitelist:this.incFilters?t.options.captionWhitelist:[],hashtagBlacklistSettings:!!this.incFilters&&t.options.hashtagBlacklistSettings,hashtagWhitelistSettings:!!this.incFilters&&t.options.hashtagWhitelistSettings,captionBlacklistSettings:!!this.incFilters&&t.options.captionBlacklistSettings,captionWhitelistSettings:!!this.incFilters&&t.options.captionWhitelistSettings});return e&&e(),i.a.getFeedMedia(o).then(e=>(this.prevOptions=new n.a.Options(t.options),this.media=e.data.media,this.media))}hasCache(t){return null!==this.prevOptions&&!this.isCacheInvalid(t)}isCacheInvalid(t){const e=t.options,o=this.prevOptions;if(Object(a.k)(t.media,this.media,(t,e)=>t.id===e.id).length>0)return!0;if(!Object(a.f)(e.accounts,o.accounts))return!0;if(!Object(a.f)(e.tagged,o.tagged))return!0;if(!Object(a.f)(e.hashtags,o.hashtags,a.m))return!0;if(this.incModeration){if(e.moderationMode!==o.moderationMode)return!0;if(!Object(a.f)(e.moderation,o.moderation))return!0}if(this.incFilters){if(e.captionWhitelistSettings!==o.captionWhitelistSettings||e.captionBlacklistSettings!==o.captionBlacklistSettings||e.hashtagWhitelistSettings!==o.hashtagWhitelistSettings||e.hashtagBlacklistSettings!==o.hashtagBlacklistSettings)return!0;if(!Object(a.f)(e.captionWhitelist,o.captionWhitelist))return!0;if(!Object(a.f)(e.captionBlacklist,o.captionBlacklist))return!0;if(!Object(a.f)(e.hashtagWhitelist,o.hashtagWhitelist))return!0;if(!Object(a.f)(e.hashtagBlacklist,o.hashtagBlacklist))return!0}return!1}}const s=new r(!0,!0),c=new r(!1,!0)},77:function(t,e,o){t.exports={root:"ProfilePic__root",round:"ProfilePic__round ProfilePic__root",square:"ProfilePic__square ProfilePic__root"}},78:function(t,e,o){t.exports={"connect-btn":"AccountsPage__connect-btn",connectBtn:"AccountsPage__connect-btn"}},8:function(t,e,o){"use strict";o.d(e,"a",(function(){return n}));var n,i=o(12),a=o(19),r=o(4);!function(t){function e(t){return t?l(t.type):void 0}function o(t){var o;if("object"!=typeof t)return!1;const n=e(t);return void 0!==n&&n.isValid(null!==(o=t.config)&&void 0!==o?o:{})}function n(e){return e?t.getPromoFromDictionary(e,i.a.config.globalPromotions):void 0}function s(t){const e=c(t);return void 0===e?void 0:e.promotion}function c(e){if(e)for(const o of i.a.config.autoPromotions){const n=t.Automation.getType(o),i=t.Automation.getConfig(o);if(n&&n.matches(e,i))return o}}function l(e){return t.types.find(t=>t.id===e)}let u;t.getConfig=function(t){var e,o;return t&&null!==(o=null!==(e=t.config)&&void 0!==e?e:t.data)&&void 0!==o?o:{}},t.getType=e,t.isValid=o,t.getPromoFromDictionary=function(e,o){const n=a.a.get(o,e.id);if(n)return t.getType(n)?n:void 0},t.getPromo=function(t){return Object(r.l)(o,[()=>n(t),()=>s(t)])},t.getGlobalPromo=n,t.getAutoPromo=s,t.getAutomation=c,t.types=[],t.getTypes=function(){return t.types},t.registerType=function(e){t.types.push(e)},t.getTypeById=l,t.clearTypes=function(){t.types.splice(0,t.types.length)},function(t){t.getType=function(t){return t?o(t.type):void 0},t.getConfig=function(t){var e,o;return t&&null!==(o=null!==(e=t.config)&&void 0!==e?e:t.data)&&void 0!==o?o:{}},t.getPromotion=function(t){return t?t.promotion:void 0};const e=[];function o(t){return e.find(e=>e.id===t)}t.getTypes=function(){return e},t.registerType=function(t){e.push(t)},t.getTypeById=o,t.clearTypes=function(){e.splice(0,e.length)}}(u=t.Automation||(t.Automation={}))}(n||(n={}))},89:function(t,e,o){"use strict";o.d(e,"a",(function(){return E}));var n=o(0),i=o.n(n),a=o(45),r=o(9),s=o.n(r),c=o(6),l=o(3),u=o(614),d=o(386),p=o(55),h=o(112),f=o(103),m=o(30),g=o(5),b=o(23),y=o(14),v=o(59),_=Object(c.b)((function({account:t,onUpdate:e}){const[o,n]=i.a.useState(!1),[a,r]=i.a.useState(""),[c,_]=i.a.useState(!1),E=t.type===l.a.Type.PERSONAL,O=l.b.getBioText(t),w=()=>{t.customBio=a,_(!0),m.a.updateAccount(t).then(()=>{n(!1),_(!1),e&&e()})},S=o=>{t.customProfilePicUrl=o,_(!0),m.a.updateAccount(t).then(()=>{_(!1),e&&e()})};return i.a.createElement("div",{className:s.a.root},i.a.createElement("div",{className:s.a.container},i.a.createElement("div",{className:s.a.infoColumn},i.a.createElement("a",{href:l.b.getProfileUrl(t),target:"_blank",className:s.a.username},"@",t.username),i.a.createElement("div",{className:s.a.row},i.a.createElement("span",{className:s.a.label},"Spotlight ID:"),t.id),i.a.createElement("div",{className:s.a.row},i.a.createElement("span",{className:s.a.label},"User ID:"),t.userId),i.a.createElement("div",{className:s.a.row},i.a.createElement("span",{className:s.a.label},"Type:"),t.type),!o&&i.a.createElement("div",{className:s.a.row},i.a.createElement("div",null,i.a.createElement("span",{className:s.a.label},"Bio:"),i.a.createElement("a",{className:s.a.editBioLink,onClick:()=>{r(l.b.getBioText(t)),n(!0)}},"Edit bio"),i.a.createElement("pre",{className:s.a.bio},O.length>0?O:"(No bio)"))),o&&i.a.createElement("div",{className:s.a.row},i.a.createElement("textarea",{className:s.a.bioEditor,value:a,onChange:t=>{r(t.target.value)},onKeyDown:t=>{"Enter"===t.key&&t.ctrlKey&&(w(),t.preventDefault(),t.stopPropagation())},rows:4}),i.a.createElement("div",{className:s.a.bioFooter},i.a.createElement("div",{className:s.a.bioEditingControls},c&&i.a.createElement("span",null,"Please wait ...")),i.a.createElement("div",{className:s.a.bioEditingControls},i.a.createElement(g.a,{className:s.a.bioEditingButton,type:g.c.DANGER,disabled:c,onClick:()=>{t.customBio="",_(!0),m.a.updateAccount(t).then(()=>{n(!1),_(!1),e&&e()})}},"Reset"),i.a.createElement(g.a,{className:s.a.bioEditingButton,type:g.c.SECONDARY,disabled:c,onClick:()=>{n(!1)}},"Cancel"),i.a.createElement(g.a,{className:s.a.bioEditingButton,type:g.c.PRIMARY,disabled:c,onClick:w},"Save"))))),i.a.createElement("div",{className:s.a.picColumn},i.a.createElement("div",null,i.a.createElement(v.a,{account:t,className:s.a.profilePic})),i.a.createElement(h.a,{id:"account-custom-profile-pic",title:"Select profile picture",mediaType:"image",onSelect:t=>{const e=parseInt(t.attributes.id),o=f.a.media.attachment(e).attributes.url;S(o)}},({open:t})=>i.a.createElement(g.a,{type:g.c.SECONDARY,className:s.a.setCustomPic,onClick:t},"Change profile picture")),t.customProfilePicUrl.length>0&&i.a.createElement("a",{className:s.a.resetCustomPic,onClick:()=>{S("")}},"Reset profile picture"))),E&&i.a.createElement("div",{className:s.a.personalInfoMessage},i.a.createElement(b.a,{type:b.b.INFO,showIcon:!0},"Due to restrictions set by Instagram, Spotlight cannot import the profile photo and bio"," ","text for Personal accounts."," ",i.a.createElement("a",{href:y.a.resources.customPersonalInfoUrl,target:"_blank"},"Click here to learn more"),".")),i.a.createElement(p.a,{label:"View access token",stealth:!0},i.a.createElement("div",{className:s.a.row},t.accessToken&&i.a.createElement("div",null,i.a.createElement("p",null,i.a.createElement("span",{className:s.a.label},"Expires on:"),i.a.createElement("span",null,t.accessToken.expiry?Object(u.a)(Object(d.a)(t.accessToken.expiry),"PPPP"):"Unknown")),i.a.createElement("pre",{className:s.a.accessToken},t.accessToken.code)))))}));function E({isOpen:t,onClose:e,onUpdate:o,account:n}){return i.a.createElement(a.a,{isOpen:t,title:"Account details",icon:"admin-users",onClose:e},i.a.createElement(a.a.Content,null,i.a.createElement(_,{account:n,onUpdate:o})))}},9:function(t,e,o){t.exports={root:"AccountInfo__root",container:"AccountInfo__container",column:"AccountInfo__column","info-column":"AccountInfo__info-column AccountInfo__column",infoColumn:"AccountInfo__info-column AccountInfo__column","pic-column":"AccountInfo__pic-column AccountInfo__column",picColumn:"AccountInfo__pic-column AccountInfo__column",id:"AccountInfo__id",username:"AccountInfo__username","profile-pic":"AccountInfo__profile-pic",profilePic:"AccountInfo__profile-pic",label:"AccountInfo__label",row:"AccountInfo__row",pre:"AccountInfo__pre",bio:"AccountInfo__bio AccountInfo__pre","link-button":"AccountInfo__link-button",linkButton:"AccountInfo__link-button","edit-bio-link":"AccountInfo__edit-bio-link AccountInfo__link-button",editBioLink:"AccountInfo__edit-bio-link AccountInfo__link-button","bio-editor":"AccountInfo__bio-editor",bioEditor:"AccountInfo__bio-editor","bio-footer":"AccountInfo__bio-footer",bioFooter:"AccountInfo__bio-footer","bio-editing-controls":"AccountInfo__bio-editing-controls",bioEditingControls:"AccountInfo__bio-editing-controls","access-token":"AccountInfo__access-token AccountInfo__pre",accessToken:"AccountInfo__access-token AccountInfo__pre","set-custom-pic":"AccountInfo__set-custom-pic",setCustomPic:"AccountInfo__set-custom-pic","reset-custom-pic":"AccountInfo__reset-custom-pic AccountInfo__link-button",resetCustomPic:"AccountInfo__reset-custom-pic AccountInfo__link-button",subtext:"AccountInfo__subtext","personal-info-message":"AccountInfo__personal-info-message",personalInfoMessage:"AccountInfo__personal-info-message"}},98:function(t,e,o){"use strict";var n=o(76);e.a=new class{constructor(){this.mediaStore=n.a}}}},[[609,0,1,2,3]]])}));